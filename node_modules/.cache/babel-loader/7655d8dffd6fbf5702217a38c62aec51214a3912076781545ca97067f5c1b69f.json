{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gary\\\\Downloads\\\\html\\\\src\\\\components\\\\Momi.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport * as XLSX from 'xlsx';\nimport './Momi.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Momi = () => {\n  _s();\n  const [formattedData, setFormattedData] = useState([]);\n  const [startNumber, setStartNumber] = useState('');\n  const [offset, setOffset] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const [dragActive, setDragActive] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  const outputRef = useRef(null);\n  const [previewData, setPreviewData] = useState(null);\n  const [settings, setSettings] = useState({\n    autoCopy: true,\n    darkMode: false,\n    showPreview: true\n  });\n  const [showTutorial, setShowTutorial] = useState(false);\n  const [showTour, setShowTour] = useState(false);\n  const tourSteps = [{\n    selector: '.drop-zone',\n    content: '拖放或點擊此處選擇Excel檔案'\n  }, {\n    selector: 'input[type=\"number\"]:first',\n    content: '輸入起始編號'\n  }\n  // ...other steps\n  ];\n  useEffect(() => {\n    let interval;\n    if (loading) {\n      interval = setInterval(() => {\n        setProgress(prev => Math.min(prev + 10, 90));\n      }, 200);\n    }\n    return () => {\n      clearInterval(interval);\n      if (!loading && progress < 100) {\n        setProgress(100);\n        setTimeout(() => setProgress(0), 500);\n      }\n    };\n  }, [loading, progress]);\n  useEffect(() => {\n    if (errors.file || errors.startNumber || errors.offset) {\n      const timer = setTimeout(() => setErrors({}), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [errors]);\n  useEffect(() => {\n    if (startNumber && offset) {\n      validateInputs();\n    }\n  }, [startNumber, offset, validateInputs]);\n  const validateInputs = () => {\n    const newErrors = {};\n    if (!fileInputRef.current.files.length) {\n      newErrors.file = '請選擇一個 Excel 檔案。';\n    }\n    if (!Number.isInteger(Number(startNumber)) || startNumber < 1) {\n      newErrors.startNumber = '請輸入有效的正整數。';\n    }\n    if (!Number.isInteger(Number(offset)) || offset < 0) {\n      newErrors.offset = '請輸入有效的非負整數。';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0];\n      const isValidFileType = fileName => ['.xlsx', '.xls', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'].some(ext => fileName.endsWith(ext) || file.type.includes(ext));\n      if (isValidFileType(file.name)) {\n        fileInputRef.current.files = e.dataTransfer.files;\n        setErrors(prev => ({\n          ...prev,\n          file: ''\n        }));\n      } else {\n        setErrors(prev => ({\n          ...prev,\n          file: '請上傳 Excel 檔案 (.xlsx 或 .xls)'\n        }));\n      }\n    }\n  };\n  const memoizedProcessor = useCallback((jsonData, startRowIndex) => {\n    const processRow = (row, index) => {\n      const currentNumber = parseInt(startNumber) + index;\n      return `🐍🐍新年快樂🥰🎆🎆🎆🎆\\n\\n第${currentNumber}位投稿人嚟啦～\\n名字：${row[1] || 'N/A'}\\n年齡：${row[2] || 'N/A'}\\n身高：${row[3] || 'N/A'}\\n\\n描述自已：${row[4] || 'N/A'}\\n\\n要求：${row[5] || 'N/A'}\\n\\n聯絡方式：${row[6] || 'N/A'}\\n\\n如果有緣人想認識無留tg既投稿人，可以dm平台的！🙊🙊🙊🙊🙊\\n投稿link係主頁🧨大家隨意投稿🎐\\n\\n`;\n    };\n    return jsonData.slice(startRowIndex).map((row, index) => processRow(row, index));\n  }, [startNumber]);\n  const handleProcess = async () => {\n    if (!validateInputs()) return;\n    setLoading(true);\n    setSuccessMessage('');\n    setProgress(0);\n    try {\n      const file = fileInputRef.current.files[0];\n      const data = await readFile(file);\n      const workbook = XLSX.read(data, {\n        type: 'array'\n      });\n      const sheetName = workbook.SheetNames[0];\n      const worksheet = workbook.Sheets[sheetName];\n      const jsonData = XLSX.utils.sheet_to_json(worksheet, {\n        header: 1\n      });\n      const startRowIndex = parseInt(startNumber) + parseInt(offset) - 1;\n      if (startRowIndex >= jsonData.length) {\n        setErrors({\n          file: `起始數字加偏移值指向的行（第 ${startRowIndex + 1} 行）超出範圍。`\n        });\n        return;\n      }\n      const newFormattedData = memoizedProcessor(jsonData, startRowIndex);\n      setFormattedData(newFormattedData);\n      setSuccessMessage('處理完成！您現在可以下載檔案。');\n\n      // Scroll to output\n      if (outputRef.current) {\n        outputRef.current.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n      const newHistoryEntry = {\n        date: new Date().toISOString(),\n        fileName: file.name,\n        totalEntries: newFormattedData.length\n      };\n      setHistory(prev => {\n        const newHistory = [newHistoryEntry, ...prev.slice(0, 4)];\n        localStorage.setItem('conversionHistory', JSON.stringify(newHistory));\n        return newHistory;\n      });\n      setStats(prev => ({\n        totalProcessed: prev.totalProcessed + newFormattedData.length,\n        avgProcessingTime: calculateAverageTime(),\n        lastProcessed: new Date().toISOString()\n      }));\n    } catch (error) {\n      setErrors({\n        file: '處理過程中出現錯誤，請檢查您的 Excel 檔案格式。'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const readFile = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = e => resolve(e.target.result);\n      reader.onerror = error => reject(error);\n      reader.readAsArrayBuffer(file);\n    });\n  };\n  const handleDownload = () => {\n    const text = formattedData.join('\\n\\n------------------------\\n\\n');\n    const blob = new Blob([text], {\n      type: 'text/plain;charset=utf-8'\n    });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = 'formatted_data.txt';\n    link.click();\n    URL.revokeObjectURL(link.href);\n\n    // Show success animation\n    setSuccessMessage('檔案已成功下載！');\n    setTimeout(() => setSuccessMessage(''), 3000);\n  };\n  const handleCopyToClipboard = async () => {\n    const text = formattedData.join('\\n\\n------------------------\\n\\n');\n    try {\n      await navigator.clipboard.writeText(text);\n      setSuccessMessage('已複製到剪貼板！');\n      setTimeout(() => setSuccessMessage(''), 3000);\n    } catch (err) {\n      setErrors({\n        clipboard: '複製失敗，請手動複製。'\n      });\n    }\n  };\n  const handlePreview = async () => {\n    if (!fileInputRef.current.files.length) return;\n    const file = fileInputRef.current.files[0];\n    const data = await readFile(file);\n    const workbook = XLSX.read(data, {\n      type: 'array'\n    });\n    const sheetName = workbook.SheetNames[0];\n    const worksheet = workbook.Sheets[sheetName];\n    const jsonData = XLSX.utils.sheet_to_json(worksheet, {\n      header: 1\n    });\n    setPreviewData(jsonData.slice(0, 5)); // Show first 5 rows\n  };\n  const toggleSetting = setting => {\n    setSettings(prev => ({\n      ...prev,\n      [setting]: !prev[setting]\n    }));\n  };\n  const resetAll = () => {\n    fileInputRef.current.value = '';\n    setStartNumber('');\n    setOffset('');\n    setFormattedData([]);\n    setPreviewData(null);\n    setErrors({});\n    setSuccessMessage('');\n  };\n  const updateColumnMap = (field, value) => {\n    setColumnMap(prev => ({\n      ...prev,\n      [field]: parseInt(value)\n    }));\n  };\n  const nextTourStep = () => {\n    setTourStep(prev => Math.min(prev + 1, tourSteps.length - 1));\n  };\n  const calculateAverageTime = () => {\n    // Implement your average time calculation logic\n    return 0; // Placeholder\n  };\n  const processSingleFile = async file => {\n    // Implement single file processing logic\n    return []; // Placeholder\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Momi \\u683C\\u5F0F\\u8F49\\u63DB\\u5668\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"settings-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"settings-toggle\",\n        onClick: () => toggleSetting('showSettings'),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-cog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), settings.showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: settings.autoCopy,\n            onChange: () => toggleSetting('autoCopy')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), \"\\u81EA\\u52D5\\u8907\\u88FD\\u7D50\\u679C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: settings.darkMode,\n            onChange: () => toggleSetting('darkMode')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this), \"\\u6DF1\\u8272\\u6A21\\u5F0F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `drop-zone ${dragActive ? 'active' : ''}`,\n      onDragEnter: handleDrag,\n      onDragLeave: handleDrag,\n      onDragOver: handleDrag,\n      onDrop: handleDrop,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drop-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-file-upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u62D6\\u653E Excel \\u6A94\\u6848\\u81F3\\u6B64\\u6216\\u9EDE\\u64CA\\u9078\\u64C7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"file-types\",\n          children: \"\\u652F\\u63F4\\u683C\\u5F0F: .xlsx, .xls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"file-input\",\n        multiple: true,\n        type: \"file\",\n        ref: fileInputRef,\n        accept: \".xlsx, .xls\",\n        onChange: () => setErrors(prev => ({\n          ...prev,\n          file: ''\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), errors.file && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-exclamation-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), errors.file]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-sort-numeric-down button-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), \"\\u8D77\\u59CB\\u6578\\u5B57\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: startNumber,\n        onChange: e => {\n          setStartNumber(e.target.value);\n          setErrors(prev => ({\n            ...prev,\n            startNumber: ''\n          }));\n        },\n        placeholder: \"\\u8ACB\\u8F38\\u5165\\u8D77\\u59CB\\u6578\\u5B57\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), errors.startNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-exclamation-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), errors.startNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrows-alt-v button-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), \"\\u504F\\u79FB\\u503C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: offset,\n        onChange: e => {\n          setOffset(e.target.value);\n          setErrors(prev => ({\n            ...prev,\n            offset: ''\n          }));\n        },\n        placeholder: \"\\u8ACB\\u8F38\\u5165\\u504F\\u79FB\\u503C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), errors.offset && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-exclamation-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), errors.offset]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"process-btn\",\n      onClick: handleProcess,\n      disabled: loading,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fas ${loading ? 'fa-spinner fa-spin' : 'fa-file-import'} button-icon`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), loading ? '處理中...' : '處理檔案']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-fill\",\n        style: {\n          width: `${progress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-check-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), successMessage]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }, this), formattedData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: outputRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"output-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-file-alt button-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), \"\\u8655\\u7406\\u7D50\\u679C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"copy-btn\",\n          onClick: handleCopyToClipboard,\n          title: \"\\u8907\\u88FD\\u5230\\u526A\\u8CBC\\u677F\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-copy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"output\",\n        children: formattedData.join('\\n\\n------------------------\\n\\n')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download-btn\",\n        onClick: handleDownload,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-download button-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), \"\\u4E0B\\u8F09\\u6A94\\u6848\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 9\n    }, this), previewData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preview-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-eye button-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), \"\\u6A94\\u6848\\u9810\\u89BD (\\u524D5\\u884C)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preview-table\",\n        children: previewData.map((row, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"preview-row\",\n          children: row.map((cell, cellIndex) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"preview-cell\",\n            children: cell || 'N/A'\n          }, cellIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 19\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this), showTutorial && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tutorial-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tutorial-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u4F7F\\u7528\\u6559\\u5B78 \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-graduation-cap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u9078\\u64C7 Excel \\u6A94\\u6848\\uFF08\\u652F\\u63F4 .xlsx \\u548C .xls \\u683C\\u5F0F\\uFF09\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u8F38\\u5165\\u8D77\\u59CB\\u7DE8\\u865F\\u548C\\u504F\\u79FB\\u503C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u9EDE\\u64CA\\u300C\\u8655\\u7406\\u6A94\\u6848\\u300D\\u6309\\u9215\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u9810\\u89BD\\u4E26\\u4E0B\\u8F09\\u7D50\\u679C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-tutorial\",\n          onClick: () => setShowTutorial(false),\n          children: \"\\u95DC\\u9589\\u6559\\u5B78\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"help-button\",\n      onClick: () => setShowTutorial(true),\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-question-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      role: \"alert\",\n      \"aria-busy\": \"true\",\n      className: \"sr-only\",\n      children: \"\\u8655\\u7406\\u9032\\u884C\\u4E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"reset-btn\",\n      onClick: resetAll,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-undo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), \"\\u91CD\\u7F6E\\u6240\\u6709\\u8A2D\\u5B9A\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column-mapper\",\n      children: Object.keys(columnMap).map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [field, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: columnMap[field],\n          onChange: e => updateColumnMap(field, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this)]\n      }, field, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this), showTour && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tour-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tour-content\",\n        children: [tourSteps[tourStep].content, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: nextTourStep,\n          children: \"\\u4E0B\\u4E00\\u6B65\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n};\n_s(Momi, \"Vlk1jw5byA6iB96sEeub19IRpzw=\");\n_c = Momi;\nexport default Momi;\nvar _c;\n$RefreshReg$(_c, \"Momi\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","XLSX","jsxDEV","_jsxDEV","Momi","_s","formattedData","setFormattedData","startNumber","setStartNumber","offset","setOffset","loading","setLoading","errors","setErrors","successMessage","setSuccessMessage","dragActive","setDragActive","progress","setProgress","fileInputRef","outputRef","previewData","setPreviewData","settings","setSettings","autoCopy","darkMode","showPreview","showTutorial","setShowTutorial","showTour","setShowTour","tourSteps","selector","content","interval","setInterval","prev","Math","min","clearInterval","setTimeout","file","timer","clearTimeout","validateInputs","newErrors","current","files","length","Number","isInteger","Object","keys","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","dataTransfer","isValidFileType","fileName","some","ext","endsWith","includes","name","memoizedProcessor","jsonData","startRowIndex","processRow","row","index","currentNumber","parseInt","slice","map","handleProcess","data","readFile","workbook","read","sheetName","SheetNames","worksheet","Sheets","utils","sheet_to_json","header","newFormattedData","scrollIntoView","behavior","newHistoryEntry","date","Date","toISOString","totalEntries","setHistory","newHistory","localStorage","setItem","JSON","stringify","setStats","totalProcessed","avgProcessingTime","calculateAverageTime","lastProcessed","error","Promise","resolve","reject","reader","FileReader","onload","target","result","onerror","readAsArrayBuffer","handleDownload","text","join","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","handleCopyToClipboard","navigator","clipboard","writeText","err","handlePreview","toggleSetting","setting","resetAll","value","updateColumnMap","field","setColumnMap","nextTourStep","setTourStep","processSingleFile","className","children","_jsxFileName","lineNumber","columnNumber","onClick","showSettings","checked","onChange","onDragEnter","onDragLeave","onDragOver","onDrop","id","multiple","ref","accept","placeholder","disabled","style","width","title","cell","cellIndex","role","columnMap","tourStep","_c","$RefreshReg$"],"sources":["C:/Users/gary/Downloads/html/src/components/Momi.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport * as XLSX from 'xlsx';\nimport './Momi.css';\n\nconst Momi = () => {\n  const [formattedData, setFormattedData] = useState([]);\n  const [startNumber, setStartNumber] = useState('');\n  const [offset, setOffset] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const [dragActive, setDragActive] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  const outputRef = useRef(null);\n  const [previewData, setPreviewData] = useState(null);\n  const [settings, setSettings] = useState({\n    autoCopy: true,\n    darkMode: false,\n    showPreview: true\n  });\n  const [showTutorial, setShowTutorial] = useState(false);\n  const [showTour, setShowTour] = useState(false);\n\n  const tourSteps = [\n    {\n      selector: '.drop-zone',\n      content: '拖放或點擊此處選擇Excel檔案'\n    },\n    {\n      selector: 'input[type=\"number\"]:first',\n      content: '輸入起始編號'\n    },\n    // ...other steps\n  ];\n\n  useEffect(() => {\n    let interval;\n    if (loading) {\n      interval = setInterval(() => {\n        setProgress(prev => Math.min(prev + 10, 90));\n      }, 200);\n    }\n    return () => {\n      clearInterval(interval);\n      if (!loading && progress < 100) {\n        setProgress(100);\n        setTimeout(() => setProgress(0), 500);\n      }\n    };\n  }, [loading, progress]);\n\n  useEffect(() => {\n    if (errors.file || errors.startNumber || errors.offset) {\n      const timer = setTimeout(() => setErrors({}), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [errors]);\n\n  useEffect(() => {\n    if (startNumber && offset) {\n      validateInputs();\n    }\n  }, [startNumber, offset, validateInputs]);\n\n  const validateInputs = () => {\n    const newErrors = {};\n    if (!fileInputRef.current.files.length) {\n      newErrors.file = '請選擇一個 Excel 檔案。';\n    }\n    if (!Number.isInteger(Number(startNumber)) || startNumber < 1) {\n      newErrors.startNumber = '請輸入有效的正整數。';\n    }\n    if (!Number.isInteger(Number(offset)) || offset < 0) {\n      newErrors.offset = '請輸入有效的非負整數。';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0];\n      const isValidFileType = (fileName) => \n        ['.xlsx', '.xls', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet']\n          .some(ext => fileName.endsWith(ext) || file.type.includes(ext));\n\n      if (isValidFileType(file.name)) {\n        fileInputRef.current.files = e.dataTransfer.files;\n        setErrors(prev => ({ ...prev, file: '' }));\n      } else {\n        setErrors(prev => ({ ...prev, file: '請上傳 Excel 檔案 (.xlsx 或 .xls)' }));\n      }\n    }\n  };\n\n  const memoizedProcessor = useCallback((jsonData, startRowIndex) => {\n    const processRow = (row, index) => {\n      const currentNumber = parseInt(startNumber) + index;\n      return `🐍🐍新年快樂🥰🎆🎆🎆🎆\\n\\n第${currentNumber}位投稿人嚟啦～\\n名字：${row[1] || 'N/A'}\\n年齡：${row[2] || 'N/A'}\\n身高：${row[3] || 'N/A'}\\n\\n描述自已：${row[4] || 'N/A'}\\n\\n要求：${row[5] || 'N/A'}\\n\\n聯絡方式：${row[6] || 'N/A'}\\n\\n如果有緣人想認識無留tg既投稿人，可以dm平台的！🙊🙊🙊🙊🙊\\n投稿link係主頁🧨大家隨意投稿🎐\\n\\n`;\n    };\n    return jsonData.slice(startRowIndex).map((row, index) => processRow(row, index));\n  }, [startNumber]);\n\n  const handleProcess = async () => {\n    if (!validateInputs()) return;\n\n    setLoading(true);\n    setSuccessMessage('');\n    setProgress(0);\n    \n    try {\n      const file = fileInputRef.current.files[0];\n      const data = await readFile(file);\n      const workbook = XLSX.read(data, { type: 'array' });\n      const sheetName = workbook.SheetNames[0];\n      const worksheet = workbook.Sheets[sheetName];\n      const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });\n\n      const startRowIndex = parseInt(startNumber) + parseInt(offset) - 1;\n      if (startRowIndex >= jsonData.length) {\n        setErrors({ file: `起始數字加偏移值指向的行（第 ${startRowIndex + 1} 行）超出範圍。` });\n        return;\n      }\n\n      const newFormattedData = memoizedProcessor(jsonData, startRowIndex);\n\n      setFormattedData(newFormattedData);\n      setSuccessMessage('處理完成！您現在可以下載檔案。');\n      \n      // Scroll to output\n      if (outputRef.current) {\n        outputRef.current.scrollIntoView({ behavior: 'smooth' });\n      }\n\n      const newHistoryEntry = {\n        date: new Date().toISOString(),\n        fileName: file.name,\n        totalEntries: newFormattedData.length\n      };\n      setHistory(prev => {\n        const newHistory = [newHistoryEntry, ...prev.slice(0, 4)];\n        localStorage.setItem('conversionHistory', JSON.stringify(newHistory));\n        return newHistory;\n      });\n\n      setStats(prev => ({\n        totalProcessed: prev.totalProcessed + newFormattedData.length,\n        avgProcessingTime: calculateAverageTime(),\n        lastProcessed: new Date().toISOString()\n      }));\n    } catch (error) {\n      setErrors({ file: '處理過程中出現錯誤，請檢查您的 Excel 檔案格式。' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const readFile = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target.result);\n      reader.onerror = (error) => reject(error);\n      reader.readAsArrayBuffer(file);\n    });\n  };\n\n  const handleDownload = () => {\n    const text = formattedData.join('\\n\\n------------------------\\n\\n');\n    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = 'formatted_data.txt';\n    link.click();\n    URL.revokeObjectURL(link.href);\n\n    // Show success animation\n    setSuccessMessage('檔案已成功下載！');\n    setTimeout(() => setSuccessMessage(''), 3000);\n  };\n\n  const handleCopyToClipboard = async () => {\n    const text = formattedData.join('\\n\\n------------------------\\n\\n');\n    try {\n      await navigator.clipboard.writeText(text);\n      setSuccessMessage('已複製到剪貼板！');\n      setTimeout(() => setSuccessMessage(''), 3000);\n    } catch (err) {\n      setErrors({ clipboard: '複製失敗，請手動複製。' });\n    }\n  };\n\n  const handlePreview = async () => {\n    if (!fileInputRef.current.files.length) return;\n    \n    const file = fileInputRef.current.files[0];\n    const data = await readFile(file);\n    const workbook = XLSX.read(data, { type: 'array' });\n    const sheetName = workbook.SheetNames[0];\n    const worksheet = workbook.Sheets[sheetName];\n    const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });\n    \n    setPreviewData(jsonData.slice(0, 5)); // Show first 5 rows\n  };\n\n  const toggleSetting = (setting) => {\n    setSettings(prev => ({\n      ...prev,\n      [setting]: !prev[setting]\n    }));\n  };\n\n  const resetAll = () => {\n    fileInputRef.current.value = '';\n    setStartNumber('');\n    setOffset('');\n    setFormattedData([]);\n    setPreviewData(null);\n    setErrors({});\n    setSuccessMessage('');\n  };\n\n  const updateColumnMap = (field, value) => {\n    setColumnMap(prev => ({\n      ...prev,\n      [field]: parseInt(value)\n    }));\n  };\n\n  const nextTourStep = () => {\n    setTourStep(prev => Math.min(prev + 1, tourSteps.length - 1));\n  };\n\n  const calculateAverageTime = () => {\n    // Implement your average time calculation logic\n    return 0; // Placeholder\n  };\n\n  const processSingleFile = async (file) => {\n    // Implement single file processing logic\n    return []; // Placeholder\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Momi 格式轉換器</h1>\n      \n      <div className=\"settings-panel\">\n        <button \n          className=\"settings-toggle\"\n          onClick={() => toggleSetting('showSettings')}\n        >\n          <i className=\"fas fa-cog\"></i>\n        </button>\n        \n        {settings.showSettings && (\n          <div className=\"settings-content\">\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={settings.autoCopy}\n                onChange={() => toggleSetting('autoCopy')}\n              />\n              自動複製結果\n            </label>\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={settings.darkMode}\n                onChange={() => toggleSetting('darkMode')}\n              />\n              深色模式\n            </label>\n          </div>\n        )}\n      </div>\n\n      <div \n        className={`drop-zone ${dragActive ? 'active' : ''}`}\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n      >\n        <div className=\"drop-content\">\n          <i className=\"fas fa-file-upload\"></i>\n          <p>拖放 Excel 檔案至此或點擊選擇</p>\n          <p className=\"file-types\">支援格式: .xlsx, .xls</p>\n        </div>\n        <input \n          id=\"file-input\"\n          multiple\n          type=\"file\"\n          ref={fileInputRef}\n          accept=\".xlsx, .xls\"\n          onChange={() => setErrors(prev => ({ ...prev, file: '' }))}\n        />\n        {errors.file && (\n          <div className=\"error-message\">\n            <i className=\"fas fa-exclamation-circle\"></i>\n            {errors.file}\n          </div>\n        )}\n      </div>\n\n      <div className=\"input-group\">\n        <label>\n          <i className=\"fas fa-sort-numeric-down button-icon\"></i>\n          起始數字\n        </label>\n        <input\n          type=\"number\"\n          value={startNumber}\n          onChange={(e) => {\n            setStartNumber(e.target.value);\n            setErrors(prev => ({ ...prev, startNumber: '' }));\n          }}\n          placeholder=\"請輸入起始數字\"\n        />\n        {errors.startNumber && (\n          <div className=\"error-message\">\n            <i className=\"fas fa-exclamation-circle\"></i>\n            {errors.startNumber}\n          </div>\n        )}\n      </div>\n\n      <div className=\"input-group\">\n        <label>\n          <i className=\"fas fa-arrows-alt-v button-icon\"></i>\n          偏移值\n        </label>\n        <input\n          type=\"number\"\n          value={offset}\n          onChange={(e) => {\n            setOffset(e.target.value);\n            setErrors(prev => ({ ...prev, offset: '' }));\n          }}\n          placeholder=\"請輸入偏移值\"\n        />\n        {errors.offset && (\n          <div className=\"error-message\">\n            <i className=\"fas fa-exclamation-circle\"></i>\n            {errors.offset}\n          </div>\n        )}\n      </div>\n\n      <button \n        className=\"process-btn\" \n        onClick={handleProcess} \n        disabled={loading}\n      >\n        <i className={`fas ${loading ? 'fa-spinner fa-spin' : 'fa-file-import'} button-icon`}></i>\n        {loading ? '處理中...' : '處理檔案'}\n      </button>\n\n      {loading && (\n        <div className=\"progress-bar\">\n          <div \n            className=\"progress-bar-fill\" \n            style={{ width: `${progress}%` }}\n          ></div>\n        </div>\n      )}\n\n      {successMessage && (\n        <div className=\"success-message\">\n          <i className=\"fas fa-check-circle\"></i>\n          {successMessage}\n        </div>\n      )}\n\n      {formattedData.length > 0 && (\n        <div ref={outputRef}>\n          <div className=\"output-header\">\n            <h3>\n              <i className=\"fas fa-file-alt button-icon\"></i>\n              處理結果\n            </h3>\n            <button \n              className=\"copy-btn\"\n              onClick={handleCopyToClipboard}\n              title=\"複製到剪貼板\"\n            >\n              <i className=\"fas fa-copy\"></i>\n            </button>\n          </div>\n          <div className=\"output\">\n            {formattedData.join('\\n\\n------------------------\\n\\n')}\n          </div>\n          <button className=\"download-btn\" onClick={handleDownload}>\n            <i className=\"fas fa-download button-icon\"></i>\n            下載檔案\n          </button>\n        </div>\n      )}\n\n      {previewData && (\n        <div className=\"preview-section\">\n          <h3>\n            <i className=\"fas fa-eye button-icon\"></i>\n            檔案預覽 (前5行)\n          </h3>\n          <div className=\"preview-table\">\n            {previewData.map((row, index) => (\n              <div key={index} className=\"preview-row\">\n                {row.map((cell, cellIndex) => (\n                  <span key={cellIndex} className=\"preview-cell\">\n                    {cell || 'N/A'}\n                  </span>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {showTutorial && (\n        <div className=\"tutorial-overlay\">\n          <div className=\"tutorial-content\">\n            <h2>使用教學 <i className=\"fas fa-graduation-cap\"></i></h2>\n            <ol>\n              <li>選擇 Excel 檔案（支援 .xlsx 和 .xls 格式）</li>\n              <li>輸入起始編號和偏移值</li>\n              <li>點擊「處理檔案」按鈕</li>\n              <li>預覽並下載結果</li>\n            </ol>\n            <button \n              className=\"close-tutorial\"\n              onClick={() => setShowTutorial(false)}\n            >\n              關閉教學\n            </button>\n          </div>\n        </div>\n      )}\n\n      <button \n        className=\"help-button\"\n        onClick={() => setShowTutorial(true)}\n      >\n        <i className=\"fas fa-question-circle\"></i>\n      </button>\n\n      {loading && <div role=\"alert\" aria-busy=\"true\" className=\"sr-only\">處理進行中</div>}\n\n      <button className=\"reset-btn\" onClick={resetAll}>\n        <i className=\"fas fa-undo\"></i>\n        重置所有設定\n      </button>\n\n      <div className=\"column-mapper\">\n        {Object.keys(columnMap).map((field) => (\n          <div key={field} className=\"column-field\">\n            <label>{field}:</label>\n            <input\n              type=\"number\"\n              value={columnMap[field]}\n              onChange={(e) => updateColumnMap(field, e.target.value)}\n            />\n          </div>\n        ))}\n      </div>\n\n      {showTour && (\n        <div className=\"tour-overlay\">\n          <div className=\"tour-content\">\n            {tourSteps[tourStep].content}\n            <button onClick={nextTourStep}>下一步</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Momi;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}